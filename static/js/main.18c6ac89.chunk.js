(this["webpackJsonpmark-contentful-app"]=this["webpackJsonpmark-contentful-app"]||[]).push([[0],{122:function(e,t,n){},398:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(0),c=n(12),o=n(13),i=(n(119),n(120),n(121),n(122),n(23)),s=n.n(i),l=n(48),u=n(106),d=n(107),p=n(111),f=n(110),j=n(8),O=n(109),h=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onConfigure=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.sdk.app.getCurrentState();case 2:return t=e.sent,e.abrupt("return",{parameters:a.state.parameters,targetState:t});case 4:case"end":return e.stop()}}),e)}))),a.state={parameters:{}},e.sdk.app.onConfigure((function(){return a.onConfigure()})),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.sdk.app.getParameters();case 2:t=e.sent,this.setState(t?{parameters:t}:this.state,(function(){n.props.sdk.app.setReady()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsx)(j.Workbench,{className:Object(O.a)({margin:"80px"}),children:Object(a.jsxs)(j.Form,{children:[Object(a.jsx)(j.Heading,{children:"App Config"}),Object(a.jsx)(j.Paragraph,{children:"Welcome to your contentful app. This is your config page."})]})})}}]),n}(r.Component),b=function(e){return Object(a.jsx)(j.Paragraph,{children:"Hello Entry Editor Component"})},m=function(e){return Object(a.jsx)(j.Paragraph,{children:"Hello Page Component"})},g=function(e){return Object(a.jsx)(j.Paragraph,{children:"Hello Sidebar Component"})},x=n(49),k=n(28),C=function(e){var t=Object(r.useState)(""),n=Object(k.a)(t,2),c=n[0],o=n[1],i=Object(r.useState)(e.sdk.field.getValue()||[]),s=Object(k.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)([]),p=Object(k.a)(d,2),f=p[0],O=p[1],h=e.sdk.field.id;return Object(r.useEffect)((function(){e.sdk.window.startAutoResizer();var t=e.sdk.space.getEntries(),n=[],a=null;t.then((function(e){e.items.forEach((function(e){e.fields.hasOwnProperty(h)&&e.fields[h].hasOwnProperty("en-US")&&e.fields[h]["en-US"].forEach((function(e){n.push(e)}))})),a=n.filter((function(e,t){return n.indexOf(e)===t})),O(a)}))}),[]),e.sdk.field.onValueChanged((function(e){e&&e.length!==l.length&&u(e)})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j.TextField,{onChange:function(e){return o(e.target.value)},value:c,labelText:"Add a new ".concat(h),textInputProps:{placeholder:"type a new ".concat(h," and hit the add button")}}),Object(a.jsx)(j.Button,{style:{margin:"1em 0"},onClick:function(){if(l&&l.includes(c))return j.Notification.warning("".concat(c," has already been added."),{duration:3e3,canClose:!0,title:"STOP FUCKING AROUND"});l&&c?e.sdk.field.setValue([].concat(Object(x.a)(l),[c])):e.sdk.field.setValue([c]),o("")},children:"Add"}),Object(a.jsxs)(j.SectionHeading,{element:"H6",children:["Or select an existing ",h]}),Object(a.jsx)(j.Select,{style:{marginBottom:"1em"},onChange:function(t){return function(t){if(l&&l.includes(t.target.value))return j.Notification.warning("".concat(t.target.value," has already been added"),{duration:3e3,canClose:!0,title:"STOP FUCKING AROUND"});e.sdk.field.setValue([].concat(Object(x.a)(l),[t.target.value]))}(t)},children:f&&f.map((function(e){return Object(a.jsx)(j.Option,{value:e,children:e},e)}))}),l?Object(a.jsx)(j.Flex,{flexDirection:"row",justifyContent:"start",alignItems:"start",flexWrap:"wrap",children:l.map((function(t){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(j.Pill,{style:{margin:".25em"},onClose:function(){return function(t){var n=l.filter((function(e){return e!==t}));e.sdk.field.setValue(n)}(t)},label:t},t)})}))}):""]})},v=function(e){return Object(a.jsx)(j.Paragraph,{children:"Hello Dialog Component"})};Object(o.init)((function(e){var t=document.getElementById("root");[{location:o.locations.LOCATION_APP_CONFIG,component:Object(a.jsx)(h,{sdk:e})},{location:o.locations.LOCATION_ENTRY_FIELD,component:Object(a.jsx)(C,{sdk:e})},{location:o.locations.LOCATION_ENTRY_EDITOR,component:Object(a.jsx)(b,{sdk:e})},{location:o.locations.LOCATION_DIALOG,component:Object(a.jsx)(v,{sdk:e})},{location:o.locations.LOCATION_ENTRY_SIDEBAR,component:Object(a.jsx)(g,{sdk:e})},{location:o.locations.LOCATION_PAGE,component:Object(a.jsx)(m,{sdk:e})}].forEach((function(n){e.location.is(n.location)&&Object(c.render)(n.component,t)}))}))}},[[398,1,2]]]);
//# sourceMappingURL=main.18c6ac89.chunk.js.map